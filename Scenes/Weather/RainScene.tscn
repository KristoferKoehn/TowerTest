[gd_scene load_steps=11 format=3 uid="uid://bbk1xi7ixt5dx"]

[ext_resource type="PackedScene" uid="uid://ghey0wunun4v" path="res://Resources/Particles/WeatherParticles/RainParticles.tscn" id="1_7k72a"]
[ext_resource type="Script" path="res://Scenes/Weather/Rain.cs" id="1_a1c2b"]
[ext_resource type="Shader" path="res://Scenes/Weather/Cloud.gdshader" id="2_f5x3v"]
[ext_resource type="Material" uid="uid://tbpv7y30xg6x" path="res://Assets/Materials/QueryInvalidLane.tres" id="2_o0cck"]
[ext_resource type="Material" uid="uid://dp23b2u2d2c2f" path="res://Assets/Materials/QueryValid.tres" id="3_33qox"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_gqwjt"]
render_priority = 0
shader = ExtResource("2_f5x3v")
shader_parameter/height_scale = 0.5
shader_parameter/wave_speed = 0.1
shader_parameter/upper_transparency = 0.6
shader_parameter/global_transparency = 0.6
shader_parameter/time_factor = Vector2(2, 3)
shader_parameter/uv1_scale = null
shader_parameter/uv1_offset = null
shader_parameter/color1 = Color(0.78, 0.91, 0.93, 1)
shader_parameter/color2 = Color(0.71, 0.89, 0.95, 1)

[sub_resource type="SphereMesh" id="SphereMesh_fcr6a"]
material = SubResource("ShaderMaterial_gqwjt")
radius = 1.5

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_lp1pn"]
transparency = 1
albedo_color = Color(0.258824, 0.396078, 1, 0.117647)

[sub_resource type="CylinderMesh" id="CylinderMesh_a0xm5"]
material = SubResource("StandardMaterial3D_lp1pn")
top_radius = 2.5
bottom_radius = 2.5
height = 0.01

[sub_resource type="CylinderShape3D" id="CylinderShape3D_8h483"]
height = 9.0
radius = 2.5

[node name="RainScene" type="Node3D" node_paths=PackedStringArray("mesh", "area3D", "collisionShape3D", "damageTimer", "durationTimer")]
script = ExtResource("1_a1c2b")
mesh = NodePath("AreaMesh")
area3D = NodePath("AreaMesh/Area3D")
collisionShape3D = NodePath("AreaMesh/Area3D/CollisionShape3D")
damageTimer = NodePath("DamageTimer")
durationTimer = NodePath("DurationTimer")
InvalidMaterial = ExtResource("2_o0cck")
ValidMaterial = ExtResource("3_33qox")

[node name="CloudMesh" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 5, 0)
mesh = SubResource("SphereMesh_fcr6a")

[node name="RainParticles" parent="CloudMesh" instance=ExtResource("1_7k72a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.2981, 0)

[node name="AreaMesh" type="MeshInstance3D" parent="."]
mesh = SubResource("CylinderMesh_a0xm5")

[node name="Area3D" type="Area3D" parent="AreaMesh"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="AreaMesh/Area3D"]
shape = SubResource("CylinderShape3D_8h483")

[node name="DamageTimer" type="Timer" parent="."]

[node name="DurationTimer" type="Timer" parent="."]
